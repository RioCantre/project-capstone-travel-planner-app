var Client;(()=>{"use strict";var t={d:(n,e)=>{for(var i in e)t.o(e,i)&&!t.o(n,i)&&Object.defineProperty(n,i,{enumerable:!0,get:e[i]})}};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),t.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),t.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var n;t.g.importScripts&&(n=t.g.location+"");var e=t.g.document;if(!n&&e&&(e.currentScript&&(n=e.currentScript.src),!n)){var i=e.getElementsByTagName("script");i.length&&(n=i[i.length-1].src)}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=n})();var n={};t.r(n),t.d(n,{generateEntry:()=>o,generateForm:()=>i,postData:()=>e,reformatDate:()=>a,updateUI:()=>d});const e=async(t="",n={})=>{const e=await fetch(t,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(n)});try{return await e.json()}catch(t){console.log("Error:",t)}},i=(t,n,e)=>{if(""!==e)return!0},a=t=>t.toLocaleDateString("en-US");let r=document.querySelector("#city-list");const d=async t=>{const n=await fetch(t);try{const t=await n.json();let e=` <div id="travel-card">\n                        <div id="city-img">\n                            <img src="${t.img}" alt="Destination">\n                        </div>\n                        <div id="destination-content">\n                            <div id="destination-info">\n                                <div id="city">\n                                    ${t.city}\n                                </div>\n                                <div id="country">\n                                    ${t.country}\n                                </div>\n                                <div id="date-depature">\n                                    Departure: ${t.tripDate}\n                                </div>\n                                <div id="days-remaining">\n                                    (in ${t.daysLeft} days away)\n                                </div>\n                            </div>\n                            <div id="forecast">\n                                <ul>\n                                    <li>\n                                        <div id="icon">\n                                            <img src="https://www.weatherbit.io/static/img/icons/${t.icon}.png" alt="weather icon">\n                                        </div>\n                                        <div id="day-temp">\n                                            <span class="cel-temp">${t.min_temp} ℃</span> |\n                                            <span class="fah-temp"> ${t.max_temp} ℉</span>\n                                            <div id="wind"> wind: ${t.rain}%</div>\n                                            <div id="rain"> rain: ${t.wind}%</div>\n                                        </div>\n                                    </li>\n                                    <li>\n                                        <div id="icon">\n                                            <img src="https://www.weatherbit.io/static/img/icons/${t.icon2}.png" alt="weather icon">\n                                        </div>\n                                        <div id="day-temp">\n                                            <span class="cel-temp">${t.min_temp2} ℃</span> |\n                                            <span class="fah-temp"> ${t.max_temp2} ℉</span>\n                                            <div id="wind"> wind: ${t.rain2}%</div>\n                                            <div id="rain">rain: ${t.wind2}%</div>\n                                        </div>\n                                    </li>\n                                    <li>\n                                        <div id="icon">\n                                            <img src="https://www.weatherbit.io/static/img/icons/${t.icon3}.png" alt="weather icon">\n                                        </div>\n                                        <div id="day-temp">\n                                            <span class="cel-temp">${t.min_temp3} ℃</span> |\n                                            <span class="fah-temp"> ${t.max_temp3} ℉</span>\n                                            <div id="wind">wind: ${t.rain3}%</div>\n                                            <div id="rain">rain: ${t.wind3}%</div>\n                                        </div>\n                                    </li>\n                                </ul>\n                            </div id="remove-list" >\n                                <button class="remove-button" onclick="document.getElementById('travel-card').style.display='none'"  type="submit">\n                                    Remove this trip\n                                </button>\n                        </div>\n                    </div> `;r.innerHTML=e}catch(t){console.log("error",t)}};async function o(t){t.preventDefault();const n=document.getElementById("destination").value,r=document.getElementById("depart-date").value,o=document.getElementById("return-date").value;if(!i(n,r,o))return alert("Details are required to proceed."),!1;{const t=new Date(r),i=new Date(o),c=new Date(i).getTime()-(new Date).getTime(),s=Math.floor(c/864e5);await e("http://localhost:5000/addEntry",{city:n,tripDate:a(t),daysLeft:s}),await e("http://localhost:5000/addLocation"),await e("http://localhost:5000/addWeather"),await e("http://localhost:5000/addPhoto"),await d("http://localhost:5000/all"),form.reset()}}const c=t.p+"src/client/assets/img1.png",s=t.p+"src/client/assets/img2.png",l=t.p+"src/client/assets/img3.png";document.getElementById("generate").addEventListener("click",o);const p=document.querySelector(".main-img"),m=document.querySelector(".img-footer"),v=document.querySelector(".img-display");p.src=c,m.src=s,v.src=l,Client=n})();